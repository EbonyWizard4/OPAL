#:kivy 2.0.0

<Gerenciador>:
    TelaLogin:
    TelaApp:

<TelaLogin>:
    name: 'TelaLogin'
    BoxLayout:# principal
        orientation: 'vertical'
        padding:100
        spacing:20
        Label: #Titulo
            text: 'Insira as credenciais \nusadas na plataforma \nda IQoption'
            font_size: 50
        BoxLayout: #Elementos de Tela
            orientation: 'vertical'
            padding: 10
            spacing: 30
            TextInput: #Campo Login
                id: Login
                hint_text: 'e-mail utilizado na IQoption'
                multiline:False
                font_size: 30
                write_tab: False
                text:'@'
            TextInput: #Campo Senha
                id: Senha
                hint_text: 'Senha utilizada na IQoption'
                password: True
                multiline:False
                font_size: 30
                write_tab: False
        BoxLayout: #Botões
            orientation: 'horizontal'
            size_hint_y: None
            height: 60
            padding: 10
            spacing: 10
            BoxLayout:
                orientation:
            Button:
                text:'Entrar'
                on_release: root.login()
            BoxLayout:
                orientation:







<TelaApp>:
    name:'TelaApp'
    BoxLayout: #principal
        orientation:'vertical'
        id: Principal
        ActionBar:
            id: ActionBar
            size_hint_y: 0.1
            ActionView:
                use_separator: True
                ActionPrevious:
                ActionButton:
                    id:Usuario
                    text:'Banca Real'                
                ActionGroup:
                    id:Banca
                    mode: 'spinner'
                    text: 'Olá Usuário: Fulano de Tal'
                    ActionButton:
                        id:BancaReal
                        text:'Banca Real'
                    ActionButton:
                        id:BancaTreino
                        text:'Treinamento'
        ScreenManager:
            id: sm
            TelaMenu:
            TelaSinais:
            TelaTrade:


<TelaMenu>:
    name: 'TelaMenu'
    BoxLayout: #Principal
        orientation:'vertical'
        BoxLayout: #Elemento de Tela
            orientation:'vertical'
            padding: 100
            Label: #Título
                text: 'O que deseja fazer?'
                font_size: 50
            BoxLayout: #Botões
                padding: 10
                spacing:20
                Button:
                    text:'Inserir Sinais'
                    font_size: 25
                    on_release: root.parent.current = 'TelaSinais'
                Button:
                    text:'Start Trade'
                    font_size: 25
                    on_release: root.parent.current = 'TelaTrade'

<TelaSinais>:
    name: 'TelaSinais'
    BoxLayout: #Principal
        orientation:'vertical'

        Label: #Título
            text:'Inserir Sinal'
            font_size: 30
            size_hint_y: None
            height: 40

        BoxLayout: #Elementos de Tela
            padding: 10
            spacing: 10
            BoxLayout: #Coluna 1
                orientation:'vertical'
                spacing: 10

                BoxLayout: #Horário
                    orientation: 'vertical'
                    padding: 10
                    canvas:
                        Color:
                            rgba: 0.3, 0.3, 0.3, 0.3
                        Rectangle:
                            size: self.size
                            pos: self.pos
                    
                    Label:
                        text:'Horario'
                        font_size: 20
                        size_hint_y:None
                        height:20
                    BoxLayout:
                        orientation: 'horizontal'
                        padding:30
                        BoxLayout:
                        
                        MyTextInput_Hora:
                            id: Hora
                            text: '00'
                        
                        MyTextInput:
                            text:':'
                            size: 20,55
                            readonly: True
                            disabled: True

                        MyTextInput_Minuto:
                            id: Minuto
                            text: '00'
                        BoxLayout:

                BoxLayout: #Direçãos
                    orientation: 'horizontal'
                    canvas:
                        Color:
                            rgba: 0.3, 0.3, 0.3, 0.3
                        Rectangle:
                            size: self.size
                            pos: self.pos
                    BoxLayout:
                        orientation:'vertical'
                        padding: 10
                        Label:
                            text:'Direção'
                            font_size: 20
                            size_hint_y:None
                            height:20
                        BoxLayout:
                            padding:30
                            BoxLayout:
                            Spinner:
                                id: Direcao
                                text: 'CALL'
                                values: 'CALL', 'PUT'
                                size_hint: None, None
                                size: 150, 55
                            BoxLayout:
                                orientation:

                BoxLayout: #Valor
                    orientation: 'horizontal'
                    canvas:
                        Color:
                            rgba: 0.3, 0.3, 0.3, 0.3
                        Rectangle:
                            size: self.size
                            pos: self.pos
                    BoxLayout:
                        orientation:'vertical'
                        padding: 10
                        Label:
                            text:'Valor'
                            font_size: 20
                            size_hint_y:None
                            height:20

                        BoxLayout:
                            orientation: 'horizontal'
                            padding:30
                            BoxLayout:
                            MyTextInput:
                                text:'R$'
                                size: 55,55
                                readonly: True
                                disabled: True
                            TextInput:
                                id: Valor
                                background_color: 0.3, 0.3, 0.3, 0.3
                                write_tab: False
                                foreground_color: 0.8, 0.8, 0.8, 0.8
                                size_hint: None, None
                                size: 150, 55
                                multiline:False
                                font_size: 30
                                halign: 'center'
                                input_filter: 'float'
                                text: '2.00'
                            BoxLayout:
                        
            
            BoxLayout:#Coluna 2
                orientation:'vertical'
                spacing: 10

                BoxLayout: #Paridade
                    orientation: 'horizontal'
                    canvas:
                        Color:
                            rgba: 0.3, 0.3, 0.3, 0.3
                        Rectangle:
                            size: self.size
                            pos: self.pos
                    BoxLayout:
                        orientation:'vertical'
                        padding: 10
                        Label:
                            text:'Paridade'
                            font_size: 20
                            size_hint_y:None
                            height:20
                        BoxLayout:
                            padding:30
                            BoxLayout:
                            Spinner:
                                id: Paridade
                                text: 'EURUSD'
                                values: 'EURUSD', 'EURRUB', 'EURGBP', 'EURJPY', 'EURCAD', 'GBPUSD', 'GBPJPY', 'GBPCAD', 'USDJPY', 'USDCAD', 'USDPLN', 'USDNOK', 'USDCHF', 'AUDUSD', 'AUDNZD', 'AUDJPY', 'AUDCAD'
                                size_hint: None, None
                                size: 150, 55
                            BoxLayout:
                                orientation:

                BoxLayout: #Time_Frame
                    orientation: 'horizontal'
                    canvas:
                        Color:
                            rgba: 0.3, 0.3, 0.3, 0.3
                        Rectangle:
                            size: self.size
                            pos: self.pos
                    BoxLayout:
                        orientation:'vertical'
                        padding: 10
                        Label:
                            text:'Time Frame'
                            font_size: 20
                            size_hint_y:None
                            height:20
                        BoxLayout:
                            padding:30
                            BoxLayout:
                            Spinner:
                                id: Time_Frame
                                text: '1'
                                values: '1', '5','15'
                                size_hint: None, None
                                size: 150, 55
                            BoxLayout:
                                orientation:
                    
                BoxLayout: #Banca_Real
                    orientation: 'horizontal'
                    canvas:
                        Color:
                            rgba: 0.3, 0.3, 0.3, 0.3
                        Rectangle:
                            size: self.size
                            pos: self.pos
                    BoxLayout:
                        orientation:'vertical'
                        padding: 10
                        Label:
                            text:'Banca Real'
                            font_size: 20
                            size_hint_y:None
                            height:20

                        BoxLayout:
                            orientation: 'horizontal'
                            padding:30
                            BoxLayout:
                            Switch:
                                id: Banca
                                disabled: True
                    
                    BoxLayout:
                        orientation:'vertical'
                        padding: 10
                        Label:
                            text:'Gale 1'
                            font_size: 20
                            size_hint_y:None
                            height:20
                        Switch:
                            id: Gale1
                            on_touch_up: root.switch_gale()
                            
                    
                    BoxLayout:
                        id: Box_Gale2
                        orientation:'vertical'
                        padding: 10
                        Label:
                            text:'Gale 2'
                            font_size: 20
                            size_hint_y:None
                            height:20
                        Switch:
                            id: Gale2
                            on_touch_up: 
                            disabled: True


        BoxLayout: #Botões
            orientation: 'horizontal'
            size_hint_y: None
            height: 60
            padding: 10
            spacing: 10
            BoxLayout:
                orientation:
            Button:
                text:'Menu'
                on_release: root.parent.current='TelaMenu'
            Button:
                text:'Salvar'
                on_release: root.salva_sinal()                
            Button:
                text:'Start Trade'
                on_release: root.parent.current='TelaTrade'
            BoxLayout:
                orientation:


<TelaTrade>:
    name:'TelaTrade'
    BoxLayout: #Principal
        orientation:'vertical'

        Label: #Título
            text:'Start Trade'
            font_size: 30
            size_hint_y: None
            height: 40
        BoxLayout:# Elementos de Tela
            orientation:'horizontal'
            padding: 10
            spacing: 10
            BoxLayout: #-> Container informativo
                orientation:'vertical'
                spacing: 10
                size_hint_x: None
                width: 250

                BoxLayout: #-> Próximo Trade
                    orientation:'vertical'
                    id: Trade
                    padding: 60
                    canvas:
                        Color:
                            rgba: 0.3, 0.3, 0.3, 0.3
                        Rectangle:
                            size: self.size
                            pos: self.pos
                    Label:
                        text:'Próximo Trade às:'
                        size_hint_y: None
                        height: 40
                    Label:
                        id:HoraTrade
                        text:'--:--'
                        font_size: 50

                BoxLayout: #-> Resultados
                    orientation:'vertical'
                    id: Cronometro
                    canvas:
                        Color:
                            rgba: 0.3, 0.3, 0.3, 0.3
                        Rectangle:
                            size: self.size
                            pos: self.pos
                    Label:
                        id: Win_Rit
                        text:'Win/Rit'
                        size_hint_y: None
                        height: 40
                    Label:
                        text:'---%'
                        font_size: 50
                    Label:
                        id: Win_Rit
                        text:
                        size_hint_y: None
                        height: 40
                    BoxLayout: #-> Container das parciais 
                        orientation:'horizontal'
                        id: Resultados_Parciais
                        padding: 2
                        spacing: 2
                        BoxLayout: #-> Primeiro Lance
                            orientation:'vertical'
                            id: Primeiro_Lance
                            canvas:
                                Color:
                                    rgba: 0.5, 0.5, 0.5, 0.5
                                Rectangle:
                                    size: self.size
                                    pos: self.pos                            
                            Label:
                                id: Titulo_Primeiro_Lance
                                text: 'Entrada'
                            Label:
                                id: Resultado_Primeiro_Lance
                                text:'--'
                        BoxLayout: #-> Gale 1
                            orientation:'vertical'
                            id: Gale_1
                            canvas:
                                Color:
                                    rgba: 0.5, 0.5, 0.5, 0.5
                                Rectangle:
                                    size: self.size
                                    pos: self.pos  
                            Label:
                                id: Titulo_Gale_1
                                text: 'M.G. 1'
                            Label:
                                id: Resultado_Gale_1
                                text:'--'
                        BoxLayout: #-> Gale 2
                            orientation:'vertical'
                            id: Gale_2
                            canvas:
                                Color:
                                    rgba: 0.5, 0.5, 0.5, 0.5
                                Rectangle:
                                    size: self.size
                                    pos: self.pos  
                            Label:
                                id: Titulo_Gale_2
                                text: 'M.G. 2'
                            Label:
                                id: Resultado_Gale_2
                                text:'--'
                        BoxLayout: #-> RIT
                            orientation:'vertical'
                            id: Rit
                            canvas:
                                Color:
                                    rgba: 0.5, 0.5, 0.5, 0.5
                                Rectangle:
                                    size: self.size
                                    pos: self.pos  
                            Label:
                                id: Titulo_Rit
                                text: 'Rit'
                            Label:
                                id: Resultado_Rit
                                text:'--'
                                
            BoxLayout: #-> Container da Lista
                orientation:'vertical'
                canvas:
                    Color:
                        rgba: 0.3, 0.3, 0.3, 0.3
                    Rectangle:
                        size: self.size
                        pos: self.pos                
                    
                BoxLayout: #-> Cabeçalho
                    orientation:
                    id: Cabeçalho
                    size_hint_y:None
                    height:50     
                    spacing: 2               
                    Label:
                        id: Direção
                        text: 'Hora'
                    Label:
                        id: Horario
                        text: 'Par'
                    Label:
                        id: Paridade
                        text:'Dir.'
                    Label:
                        id: Minutos
                        text:'Min'
                    Label:
                        id: Valor
                        text:'Valor'
                    Label:
                        id: Conta
                        text:'Conta'
                    Label:
                        id: Gale
                        text:'Gale'                        
                    Button:
                        size_hint_x:None
                        widht:20                    
                        disabled: True
                        
                ScrollView: #-> lista de Sinais
                    BoxLayout:
                        id: Lista
                        orientation: 'vertical'
                        size_hint_y:None
                        height:self.minimum_height
                        canvas:
                            Color:
                                rgba: 0.3, 0.3, 0.3, 0.3
                            Rectangle:
                                size: self.size
                                pos: self.pos

                        

        BoxLayout: #Botões
            orientation: 'horizontal'
            size_hint_y: None
            height: 60
            padding: 10
            spacing: 10
            BoxLayout:
                orientation:
            Button:
                text:'Menu'
                on_release: root.parent.current='TelaMenu'
            Button:
                text:'Start Trade'
                on_release: root.start_trade()
            Button:
                text:'Inserir Sinais'
                on_release: root.parent.current='TelaSinais'
            BoxLayout:
                orientation:

<SinalTrade>:
    id: sinal_trade
    size_hint_y:None
    height:50
    
    BoxLayout:
        orientation:
        id: box_sinal
        
    Button:
        size_hint_x:None
        widht:20
        text:'X'
        on_release: root.exclui_sinal()#root.parent.remove_widget(self.parent)

<MyTextInput>:
    background_color: 0.3, 0.3, 0.3, 0.3
    write_tab: False
    foreground_color: 0.8, 0.8, 0.8, 0.8
    size_hint: None, None
    size: 100, 55
    multiline:False
    font_size: 30
    hint_text: '00'
    halign: 'center'
    input_filter: 'int'